<!-- hotel-details.ejs -->
<script src="https://cdn.tailwindcss.com"></script>
<div class="w-full min-h-screen bg-gray-50">
  <!-- HERO SECTION -->
  <div class="relative w-full h-72">
    <img
      src="/uploads/hotels/<%= hotel.image %>"
      class="w-full h-full object-cover brightness-75 rounded-b-2xl"
    />

    <div class="absolute bottom-6 left-10 text-white">
      <h1 class="text-4xl font-bold"><%= hotel.name %></h1>
      <p class="text-lg opacity-80"><%= hotel.place %>, <%= hotel.state %></p>
      <p class="mt-2 text-yellow-300 text-xl">⭐ <%= hotel.rating %></p>
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-6 py-10">
    <!-- IMAGE GALLERY -->
    <div>
      <h2 class="text-2xl font-semibold mb-4">Gallery</h2>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <% hotel.galleryImages.forEach(img => { %>
        <img
          src="/uploads/hotels/<%= img %>"
          class="w-full h-40 object-cover rounded-lg shadow"
        />
        <% }) %>
      </div>
    </div>

    <!-- DESCRIPTION -->
    <div class="mt-10 bg-white p-6 rounded-xl shadow">
      <h2 class="text-2xl font-semibold mb-2">About</h2>
      <p class="text-gray-700 leading-relaxed"><%= hotel.description %></p>
    </div>

    <!-- HOTEL INFO GRID -->
    <div class="mt-10 grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- PRICE -->
      <div class="bg-white p-6 rounded-xl shadow flex flex-col">
        <h3 class="text-xl font-semibold mb-2">Price</h3>
        <p class="text-green-600 text-3xl font-bold">
          ₹<%= hotel.price %> / night
        </p>
      </div>

      <!-- ADDRESS -->
      <div class="bg-white p-6 rounded-xl shadow">
        <h3 class="text-xl font-semibold mb-2">Address</h3>
        <p class="text-gray-700"><%= hotel.address %></p>
      </div>
    </div>

    <!-- AMENITIES -->
    <div class="mt-10 bg-white p-6 rounded-xl shadow">
      <h2 class="text-2xl font-semibold mb-3">Amenities</h2>

      <div class="flex flex-wrap gap-3">
        <% hotel.amenities.forEach(a => { %>
        <span
          class="px-4 py-2 bg-blue-50 text-blue-700 rounded-full shadow-sm text-sm"
        >
          <%= a %>
        </span>
        <% }) %>
      </div>
    </div>

    <!-- FACILITIES -->
    <div class="mt-10">
      <h2 class="text-2xl font-semibold mb-4">Facilities</h2>

      <% facilitiesByCategory = {} %> <% facilities.forEach(f => { if
      (!facilitiesByCategory[f.category]) facilitiesByCategory[f.category] = [];
      facilitiesByCategory[f.category].push(f); }) %>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <% for(let cat in facilitiesByCategory) { %>
        <div class="bg-white p-6 rounded-xl shadow">
          <h3 class="text-xl font-semibold mb-4"><%= cat %></h3>

          <ul class="space-y-2">
            <% facilitiesByCategory[cat].forEach(item => { %>
            <li class="pl-3 border-l-4 border-blue-500">
              <p class="font-medium text-gray-800"><%= item.facilityCode %></p>
              <p class="text-gray-600 text-sm">
                <%= Array.isArray(item.facilities) ? item.facilities.join(", ")
                : "Not specified" %>
              </p>
            </li>
            <% }) %>
          </ul>
        </div>
        <% } %>
      </div>
    </div>

    <!-- ROOMS -->
    <div class="mt-14">
      <h2 class="text-3xl font-semibold mb-6">Rooms</h2>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <% rooms.forEach(room => { %>

        <div class="bg-white p-5 rounded-xl shadow hover:shadow-md transition">
          <!-- ROOM IMAGE -->
          <div class="w-full h-40 mb-4">
            <img
              src="/uploads/hotels/<%= room.roomPhotos[0]  %>"
              class="w-full h-full object-cover rounded-lg"
            />
          </div>

          <h3 class="text-xl font-semibold mb-1"><%= room.roomTypeCode %></h3>

          <p class="text-gray-600 text-sm mb-2">
            Max Occupancy: <%= room.maxOccupancy %>
          </p>

          <p class="text-gray-600 text-sm mb-2">
            Adults: <%= room.adults %> | Children: <%= room.children %>
          </p>

          <p class="mb-2 text-blue-600 font-semibold"><%= room.ac %></p>

          <p class="mb-4 text-gray-700 text-sm leading-relaxed">
            Beds: <%= room.bedConfiguration.join(", ") %>
          </p>

          <a
            href="/rooms/<%= room._id %>"
            class="block text-center bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition shadow"
          >
            View Room
          </a>
        </div>

        <% }) %>
      </div>
    </div>
  </div>
</div>
<!-- <div
      class="w-full h-72 bg-cover bg-center flex items-center justify-center"
      style="background-image: url('/uploads/hotels/<%= hotel.image %>')"
    >
      <div class="bg-black/40 w-full h-full flex items-center justify-center">
        <h1 class="text-4xl font-semibold text-white tracking-wide">
          Room Details
        </h1>
      </div>
    </div> -->
